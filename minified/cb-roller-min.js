var Roller={};Roller.parallaxEnabled=!1,Roller.fixedEnabled=!1,Roller.arrFixedObj=[],Roller.arrSnapInObj=[],Roller.arrScroll=[],Roller.arrScrollOnce=[],Roller.arrVideoObj=[],Roller.windowHeight=700,Roller.windowHeightHalf=350,Roller.currentScrollY=0,Roller.lastPeriodicRan=0,Roller.lastTimestamp=performance.now(),Roller.periodicInterval=500,Roller.updateGlobalData=function(){Roller.windowHeight=document.documentElement.clientHeight,Roller.windowHeightHalf=Roller.windowHeight/2},Roller.updateClippingData=function(){for(var l=document.getElementsByClassName("roller-fixclip"),r=0;r<l.length;r++){var e=Math.ceil(l[r].parentNode.getBoundingClientRect().top-Roller.windowHeight/2+l[r].offsetHeight/2),o=e+l[r].parentNode.offsetHeight;l[r].dataClipTop=e,l[r].dataClipBottom=o}},Roller.updateSnapInData=function(){for(var l=document.getElementsByClassName("roller-snapin"),r=0;r<l.length;r++){var e=document.getElementById(l[r].getAttribute("roller-snapin-to"));l[r].dataSnapIn=e.getBoundingClientRect().top+e.offsetHeight/2,l[r].dataSnapInTo=l[r].getAttribute("roller-snapin-to"),l[r].dataSnapInFrom=l[r].getAttribute("roller-snapin-from")}},Roller.updateScrollData=function(){for(var l=document.getElementsByClassName("roller-scroll"),r=0;r<l.length;r++)l[r].parentNode.dataTop=document.body.scrollTop+l[r].parentNode.getBoundingClientRect().top,l[r].parentNode.dataHeight=l[r].parentNode.offsetHeight,l[r].dataScrollRatio=l[r].getAttribute("roller-scroll-ratio")||0,l[r].dataScrollOffset=l[r].getAttribute("roller-scroll-offset")||0},Roller.verticalCenterUpdate=function(){for(var l=document.getElementsByClassName("roller-vertcenter"),r=0;r<l.length;r++)l[r].style.marginTop="-"+l[r].offsetHeight/2+"px"},Roller.horzCenterUpdate=function(){for(var l=document.getElementsByClassName("roller-horzcenter"),r=0;r<l.length;r++)l[r].style.marginLeft="-"+l[r].offsetWidth/2+"px"},Roller.periodicHandler=function(){var l=Roller.currentScrollY,r=document.documentElement.offsetWidth,e;if(Roller.updateGlobalData(),Roller.updateClippingData(),Roller.updateSnapInData(),Roller.updateScrollData(),Roller.verticalCenterUpdate(),Roller.horzCenterUpdate(),768>=r)for(Roller.parallaxEnabled=!1,e=0;e<Roller.arrScroll.length;e++)Roller.arrScroll[e].style.transform="translateY(0px)",Roller.arrScroll[e].style.msTransform="translateY(0px)",Roller.arrScroll[e].style.webkitTransform="translateY(0px)";else Roller.parallaxEnabled=!0;if(940>r){for(Roller.fixedEnabled=!1,e=0;e<Roller.arrFixedObj.length;e++)Roller.arrFixedObj[e].style.clip="auto";for(e=0;e<Roller.arrSnapInObj.length;e++)document.getElementById(Roller.arrSnapInObj[e].dataSnapInTo).appendChild(Roller.arrSnapInObj[e])}else Roller.fixedEnabled=!0;if(Roller.parallaxEnabled)for(e=0;e<Roller.arrVideoObj.length;e++){var o=Roller.arrVideoObj[e].parentNode.parentNode.dataTop,a=Roller.arrVideoObj[e].parentNode.parentNode.dataHeight;l>o-Roller.windowHeight&&o+a>l?Roller.arrVideoObj[e].play():Roller.arrVideoObj[e].pause()}for(e=0;e<Roller.arrScrollOnce.length;e++)l>Roller.arrScrollOnce[e].dataTop+Roller.arrScrollOnce[e].dataScrollOffset-Roller.windowHeightHalf&&(Roller.arrScrollOnce[e].classList.add("roller-scrolled"),Roller.arrScrollOnce.splice(e,1))},Roller.updateFrame=function(l){var r=Roller.currentScrollY,e,o,a,t,n,d,i;if(Roller.parallaxEnabled)for(e=0;e<Roller.arrScroll.length;e++)o=Roller.arrScroll[e].parentNode.dataTop,a=Roller.arrScroll[e].parentNode.dataHeight,t=Roller.arrScroll[e].dataScrollRatio,n=Roller.arrScroll[e].dataScrollOffset,r>o-Roller.windowHeight&&o+a>r&&(d=(r-o)/Roller.windowHeight,t&&(d*=t),n&&(d-=n),Roller.arrScroll[e].classList.contains("roller-para")&&(i=100*d,Roller.arrScroll[e].style.transform="translateY("+i+"px)",Roller.arrScroll[e].style.msTransform="translateY("+i+"px)",Roller.arrScroll[e].style.webkitTransform="translateY("+i+"px)"),Roller.arrScroll[e].classList.contains("roller-blur")&&(i=30*(d+1),i>0?(Roller.arrScroll[e].style.filter="blur("+i+"px)",Roller.arrScroll[e].style.webkitFilter="blur("+i+"px)"):(Roller.arrScroll[e].style.filter="",Roller.arrScroll[e].style.webkitFilter="")),Roller.arrScroll[e].classList.contains("roller-zoom")&&(i=1+.2*(d+1),i>1?(Roller.arrScroll[e].style.transform="scale3d("+i+","+i+",1)",Roller.arrScroll[e].style.msTransform="scale3d("+i+","+i+",1)",Roller.arrScroll[e].style.webkitTransform="scale3d("+i+","+i+",1)"):(Roller.arrScroll[e].style.transform="",Roller.arrScroll[e].style.msTransform="",Roller.arrScroll[e].style.webkitTransform="")),Roller.arrScroll[e].classList.contains("roller-fade")&&(i=(d+1)/2,i>0?Roller.arrScroll[e].style.opacity=1-i:Roller.arrScroll[e].style.opacity=1));if(Roller.fixedEnabled){for(e=0;e<Roller.arrFixedObj.length;e++)Roller.arrFixedObj[e].style.clip="rect("+(Roller.arrFixedObj[e].dataClipTop-r)+"px,auto,"+(Roller.arrFixedObj[e].dataClipBottom-r)+"px,0)";try{for(e=0;e<Roller.arrSnapInObj.length;e++)r+Roller.windowHeightHalf>Roller.arrSnapInObj[e].dataSnapIn?document.getElementById(Roller.arrSnapInObj[e].dataSnapInTo).appendChild(Roller.arrSnapInObj[e]):document.getElementById(Roller.arrSnapInObj[e].dataSnapInFrom).appendChild(Roller.arrSnapInObj[e])}catch(c){console.log(Roller.arrSnapInObj[e].dataSnapInTo)}}Roller.lastPeriodicRan+Roller.periodicInterval<l&&(Roller.periodicHandler(),Roller.lastPeriodicRan=l),requestAnimationFrame(Roller.updateFrame)},Roller.scrollHandler=function(){Roller.currentScrollY=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},Roller.readyHandler=function(){console.log(Roller),window.scrollTo(0,0),Roller.arrScroll=document.getElementsByClassName("roller-scroll"),Roller.arrFixedObj=document.getElementsByClassName("roller-fixed-clipped"),Roller.arrSnapInObj=document.getElementsByClassName("roller-snapin"),Roller.arrScrollOnce=document.getElementsByClassName("roller-scrollonce"),document.addEventListener("scroll",Roller.scrollHandler),window.addEventListener("resize",Roller.periodicHandler),requestAnimationFrame(Roller.updateFrame),console.log("init")},"loading"!==document.readyState?Roller.readyHandler():document.addEventListener("DOMContentLoaded",Roller.readyHandler);
//# sourceMappingURL=./cb-roller-min.js.map